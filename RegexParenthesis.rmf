<?xml version="1.0" encoding="UTF-8"?>
<rxm:regexmagic xmlns:rxm="http://www.regexmagic.com/regexmagic24.xsd" version="2.4">
	<formula>
		<samples scope="line">
			<sample name="Capture parenthesis">
				<string><![CDATA[(5+7.5-5.55+16+(8÷8))-(50+72+5)+(16+3.2-5)-(6-4)
(5+7.5-5.55+16+1)-(50+72+5)+(16+3.2-5)-(6-4)
-----------------------------------
(6.2)
-----------------------------------
((-5)+7)-(50+72)
5+7
50+72
-----------------------------------
(5+7)-(50+72)
5+7
50+72
-----------------------------------
(5+7)-(50+72)+(16+3)-(6-4)
5+7
50+72
16+3
6-4
-----------------------------------
(5.54-9)
5.54-9
-----------------------------------
(5.54+9-3.5)
5.54+9-3.5
-----------------------------------
(5.54+9+3.5-16)
5.54+9+3.5-16
-----------------------------------
66+23.63-(50+9-3-7.5+(6÷2))
66+23.63-(50+9-3-7.5+3)
----------------------------------
2.52+(1+(-5.66)-4×7.52-9.2366+(8÷8))
2.52+(1+(-5.66)-4×7.52-9.2366+1)

----------------------------------
(5.53+2.544)
5.53+2.544
----------------------------------
5+(6×8.25)
6×8.25
----------------------------------
5+(6.25-8.25)
6.25-8.25
----------------------------------
(-5.255)+(5+8)
5+8
----------------------------------
2+((-5.22)+(-8.25))
(-5.22)+(-8.25)
----------------------------------
(((2+6)))-1
((2+6))
(2+6)
2+6
----------------------------------
2.52+(1+(-5.66))
1+(-5.66)
----------------------------------
5+(7-2+3-8.5)
7-2+3
----------------------------------
5+(7.65-2.22+3555.222)
7.65-2.22+3555.222
----------------------------------
57.22+8.5^(6÷2)
6÷2
----------------------------------
4^((7+5)÷2)
4^(12÷2)
6
----------------------------------
4^((7+5)÷2)+5×7
4^(12÷2)+5×7
4^(6)+5×7
----------------------------------
4^((7+5)÷2)+5×8×(1+3×8.55)
4^(12÷2)+5×8×25
4^(6)+5×8×25
----------------------------------
5^((-5)÷2)
(-5)÷2
----------------------------------
√(5+9)
5+9
---------------------------------
(√5+√9)
√5+√9
----------------------------------
(√5+√9-7.555)
√5+√9-7.555
----------------------------------
(5.666666666555E+23-5.666666666555E+23)
5.666666666555E+23-5.666666666555E+23
-----------------------------------
(5.666666666555E+23-5.666666666555E+23+9.511555-(-5.88))
5.666666666555E+23-5.666666666555E+23]]></string>
			</sample>
		</samples>
		<match validation="strict">
			<field>
				<regex flavor="dotnet">(?&lt;=[(])(?(?=[(][-])[(][-][√]?\d+[.]?\d*([E][+]\d*)?[)]|[√]?\d+\.?\d*([E][+]\d*)?)((?&lt;Operator>[+\-÷×])(?(?=[(][-])[(][-][√]?\d+[.]?\d*([E][+]\d*)?[)]|[√]?\d+[.]?\d*([E][+]\d*)?))+(?=[)])+?</regex>
			</field>
		</match>
		<action>
			<captures>
				<capture name="Parenthesis"/>
			</captures>
		</action>
	</formula>
</rxm:regexmagic>
